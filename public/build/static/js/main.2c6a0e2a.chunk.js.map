{"version":3,"sources":["Application.js","JoinMeeting.js","zoom.png","Login.js","firbase.js","UserContext.js","App.js","index.js"],"names":["Application","useState","signature","setSignature","apiKey","apiSecret","meeting","setMeeting","user","useContext","AuthContext","ref","app","firestore","collection","useEffect","console","log","onSnapshot","querySnapshot","items","forEach","doc","push","data","length","meetingNumber","role","Promise","res","rej","timestamp","Date","getTime","msg","Buffer","from","toString","hash","crypto","createHmac","update","digest","error","generateSignature","MeetingID","then","require","email","password","JoinMeeting","props","showMeeting","useLayoutEffect","className","src","id","onClick","iframe","document","getElementById","style","display","auth","signOut","Login","name","setName","mobile","setMobile","setShowMeeting","login","e","a","preventDefault","signInWithEmailAndPassword","trim","toLocaleLowerCase","code","createUserWithEmailAndPassword","zoom","alt","action","value","type","onChange","target","placeholder","substring","firebase","initializeApp","authDomain","projectId","storageBucket","messagingSenderId","appId","createContext","UserContext","setUser","onAuthStateChanged","Provider","children","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2c6a0e2a.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"./UserContext\";\r\nimport JoinMeeting from \"./JoinMeeting\";\r\nimport app from \"./firbase\";\r\nimport Login from \"./Login\";\r\nfunction Application() {\r\n  const [signature, setSignature] = useState(\"\");\r\n  const [apiKey, setApikey] = useState(\"Tp3phWY0QFiQdAW66pMGfg\");\r\n  const [apiSecret, setApisecret] = useState(\r\n    \"vUvAeJiTw8UgyEGAXq30Gcd39JAKnmtw5MWz\"\r\n  );\r\n  const [meeting, setMeeting] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n  const ref = app.firestore().collection(\"Meetings\");\r\n  useEffect(() => {\r\n    console.log(\"in effect\");\r\n    ref.onSnapshot((querySnapshot) => {\r\n      const items = [];\r\n      querySnapshot.forEach((doc) => {\r\n        items.push(doc.data());\r\n      });\r\n      setMeeting(items);\r\n    });\r\n  }, []);\r\n  useEffect(() => {\r\n    if (meeting.length !== 0) {\r\n      generateSignature(apiKey, apiSecret, meeting[0].MeetingID, 0).then(\r\n        (res) => {\r\n          setSignature(res);\r\n          console.log(signature);\r\n        }\r\n      );\r\n    }\r\n  }, [meeting]);\r\n  const crypto = require(\"crypto\");\r\n  function generateSignature(apiKey, apiSecret, meetingNumber, role) {\r\n    return new Promise((res, rej) => {\r\n      try {\r\n        const timestamp = new Date().getTime() - 30000;\r\n\r\n        const msg = Buffer.from(\r\n          apiKey + `${meetingNumber}` + `${timestamp}` + role\r\n        ).toString(\"base64\");\r\n        const hash = crypto\r\n          .createHmac(\"sha256\", apiSecret.toString())\r\n          .update(msg)\r\n          .digest(\"base64\");\r\n        const sign = Buffer.from(\r\n          `${apiKey}.${meetingNumber}.${timestamp}.${role}.${hash}`\r\n        ).toString(\"base64\");\r\n\r\n        res(sign);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n  useEffect(() => {\r\n    console.log(user);\r\n    if (user) {\r\n      console.log(user.email);\r\n    }\r\n  }, [user]);\r\n  return (\r\n    <>\r\n      {user !== null && signature.length !== 0 ? (\r\n        <JoinMeeting\r\n          signature={signature}\r\n          meetingNumber={meeting[0].MeetingID}\r\n          password={meeting[0].password}\r\n          apiKey={apiKey}\r\n          user={user.email}\r\n        />\r\n      ) : (\r\n        <Login />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Application;\r\n","import React, { useContext, useLayoutEffect } from \"react\";\r\nimport app from \"./firbase\";\r\nimport { AuthContext } from \"./UserContext\";\r\n\r\nfunction JoinMeeting(props) {\r\n  const { showMeeting } = useContext(AuthContext);\r\n  useLayoutEffect(() => {\r\n    // document.getElementById(\"iframe\").style.display = \"none\";\r\n  });\r\n  return (\r\n    <div className=\"zoom-div\">\r\n      {showMeeting ? (\r\n        <iframe\r\n          src={`/CDN/meeting.html?name=${props.user}&mn=${props.meetingNumber}&email=${props.user}&pwd=${props.password}&role=0&lang=en-US&signature=${props.signature}&china=0&apiKey=${props.apiKey}`}\r\n          className=\"iframe\"\r\n          id=\"iframe\"\r\n        ></iframe>\r\n      ) : (\r\n        <div className=\"mian_login_cont\">\r\n          <div className=\"center_login_cont\">\r\n            <h1 className=\"heading\">Logout and Login again to Join Meeting</h1>\r\n            <button\r\n              onClick={() => {\r\n                const iframe = document.getElementById(\"iframe\");\r\n                {\r\n                  if (iframe) {\r\n                    iframe.style.display = \"none\";\r\n                  }\r\n                }\r\n                app.auth().signOut();\r\n              }}\r\n              className=\"logout-btn myBtn\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default JoinMeeting;\r\n","export default __webpack_public_path__ + \"static/media/zoom.01c24159.png\";","import React, { useState, useContext } from \"react\";\r\nimport app from \"./firbase\";\r\nimport zoom from \"./zoom.png\";\r\nimport { AuthContext } from \"./UserContext\";\r\nfunction Login() {\r\n  const [name, setName] = useState(\"\");\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const { setShowMeeting } = useContext(AuthContext);\r\n  const login = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await app\r\n        .auth()\r\n        .signInWithEmailAndPassword(\r\n          (name + \"@gmail.com\").trim().toLocaleLowerCase(),\r\n          name + \"@gmail.com\" + \"123456\"\r\n        );\r\n      setShowMeeting(true);\r\n    } catch (err) {\r\n      if (err.code === \"auth/user-not-found\") {\r\n        try {\r\n          console.log(\"in\");\r\n          await app\r\n            .auth()\r\n            .createUserWithEmailAndPassword(\r\n              (name + \"@gmail.com\").trim().toLocaleLowerCase(),\r\n              name + \"@gmail.com\" + \"123456\"\r\n            );\r\n          setShowMeeting(true);\r\n          return;\r\n        } catch (error) {\r\n          if (error.code === \"NoUserFound\") {\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"mian_login_cont\">\r\n      <div className=\"center_login_cont\">\r\n        <img src={zoom} alt=\"\" className=\"img\" />\r\n        <form action=\"\" className=\"form\">\r\n          <input\r\n            value={name}\r\n            className=\"input\"\r\n            type=\"text\"\r\n            onChange={(e) => setName(e.target.value)}\r\n            placeholder=\"ENTER YOUR NAME\"\r\n          />\r\n          <input\r\n            value={mobile}\r\n            className=\"input\"\r\n            type=\"number\"\r\n            onChange={(e) => setMobile(e.target.value.substring(0, 10))}\r\n            placeholder=\"ENTER YOUR MOBILE\"\r\n          />\r\n          <button className=\"myBtn\" onClick={login}>\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyCQQx4uV9rQTwEluckwWLm6DsbbzWt8VoA\",\r\n  authDomain: \"zoom-demo-c7f6f.firebaseapp.com\",\r\n  projectId: \"zoom-demo-c7f6f\",\r\n  storageBucket: \"zoom-demo-c7f6f.appspot.com\",\r\n  messagingSenderId: \"317824783999\",\r\n  appId: \"1:317824783999:web:3d699ef0abea7002b4514a\",\r\n});\r\n\r\nexport default app;\r\n","import React, { useEffect, useState, createContext } from \"react\";\r\nimport app from \"./firbase\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const UserContext = (props) => {\r\n  const [user, setUser] = useState(null);\r\n  const [showMeeting, setShowMeeting] = useState(false);\r\n  useEffect(() => {\r\n    app.auth().onAuthStateChanged((user) => {\r\n      setUser(user);\r\n    });\r\n  }, []);\r\n  return (\r\n    <AuthContext.Provider value={{ user, showMeeting, setShowMeeting }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import \"./App.css\";\nimport { UserContext } from \"./UserContext\";\nimport Application from \"./Application\";\n\nfunction App() {\n  return (\n    <UserContext>\n      <Application />\n    </UserContext>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}