{
  "version": 3,
  "sources": [
    "spinner.gif",
    "firebase.js",
    "components/client-chat/PublicChat.js",
    "App.js",
    "serviceWorker.js",
    "index.js"
  ],
  "names": [
    "module",
    "exports",
    "app",
    "initializeApp",
    "apiKey",
    "authDomain",
    "projectId",
    "storageBucket",
    "databaseURL",
    "messagingSenderId",
    "appId",
    "measurementId",
    "authx",
    "auth",
    "dbx",
    "firestore",
    "rdbx",
    "storage",
    "database",
    "fieldValue",
    "FieldValue",
    "UserInfromationTable",
    "PublicChat",
    "props",
    "state",
    "emailFeature",
    "error",
    "loadin",
    "isLoading",
    "messages",
    "channels",
    "replied",
    "lastMessageTime",
    "activeMessages",
    "publicChannelMembers",
    "publicChannel",
    "activeChannel",
    "activeTab",
    "type",
    "ChatType",
    "privateChat",
    "activeMember",
    "searchText",
    "chatuser",
    "notifyEmail",
    "getUserData",
    "user",
    "need",
    "i",
    "length",
    "id",
    "email",
    "getUserDataFromChat",
    "getUserAvatarImage",
    "getUserAvatarImageForPrivChat",
    "handleError",
    "console",
    "setState",
    "setupChatClient",
    "client",
    "getChannelByUniqueName",
    "channelId",
    "then",
    "channel",
    "catch",
    "body",
    "code",
    "createChannel",
    "uniqueName",
    "friendlyName",
    "channelName",
    "isPrivate",
    "join",
    "getMessages",
    "messagePage",
    "messagesLoaded",
    "on",
    "message",
    "messageAdded",
    "setInterval",
    "getMembers",
    "membersLoaded",
    "subscribeChannel",
    "getSubscribedChannels",
    "paginator",
    "items",
    "forEach",
    "subscribeChannelMessages",
    "twilioMessageToMessage",
    "sid",
    "text",
    "attributes",
    "timestamp",
    "dateCreated",
    "setCurrentTab",
    "tab",
    "onPublicChanelClick",
    "members",
    "map",
    "member",
    "toMember",
    "identity",
    "filter",
    "vars",
    "split",
    "name",
    "activateChannel",
    "handleOnline",
    "SaveForNotify",
    "toemail",
    "collection",
    "doc",
    "get",
    "exists",
    "update",
    "notify_to",
    "date",
    "Date",
    "now",
    "set",
    "log",
    "PublicMessageAddedInFirebase",
    "msg",
    "msgby",
    "serverTimestamp",
    "sentby",
    "PrivateMessageAddedInFirebase",
    "receiver",
    "sender",
    "msgbetween",
    "reciever",
    "previousMessage",
    "push",
    "scroll",
    "value",
    "value1",
    "sendMessage",
    "event",
    "current",
    "onMemberClick",
    "ids",
    "sort",
    "setupChannel",
    "sendable",
    "sender_data",
    "company",
    "designation",
    "reciever_data",
    "sendMail",
    "swal",
    "title",
    "icon",
    "buttons",
    "dangerMode",
    "ok",
    "loading",
    "innerThis",
    "fetch",
    "headers",
    "Accept",
    "method",
    "JSON",
    "stringify",
    "reciver",
    "res",
    "sent",
    "invite",
    "reason",
    "e",
    "setTimeout",
    "maxScrollTop",
    "messageDiv",
    "scrollHeight",
    "clientHeight",
    "scrollTop",
    "onSearchTextChange",
    "showUserImage",
    "RetunKey",
    "str",
    "Math",
    "floor",
    "random",
    "uimage",
    "React",
    "createRef",
    "this",
    "stallID",
    "window",
    "c",
    "ref",
    "snap",
    "data",
    "val",
    "Object",
    "keys",
    "key",
    "onAuthStateChanged",
    "displayName",
    "photoURL",
    "encodeURIComponent",
    "json",
    "Chat",
    "create",
    "token",
    "shutdown",
    "className",
    "toLocaleLowerCase",
    "includes",
    "x",
    "y",
    "xTimestamp",
    "setFullYear",
    "getFullYear",
    "final",
    "xi",
    "src",
    "Spinner",
    "alt",
    "href",
    "onClick",
    "placeholder",
    "search",
    "onChange",
    "target",
    "Both",
    "style",
    "display",
    "marginRight",
    "width",
    "size",
    "onKeyPress",
    "Component",
    "publicChat",
    "App",
    "getURLPARAM",
    "urlParam",
    "location",
    "uid",
    "Boolean",
    "hostname",
    "match",
    "ReactDOM",
    "render",
    "StrictMode",
    "document",
    "getElementById",
    "navigator",
    "serviceWorker",
    "ready",
    "registration",
    "unregister"
  ],
  "mappings": "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",
  "file": "static/js/main.e5e73627.chunk.js",
  "sourcesContent": [
    "module.exports = __webpack_public_path__ + \"static/media/spinner.cb8f814a.gif\";",
    "import app from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/database\";\r\n\r\n// var config = {\r\n//   apiKey: \"AIzaSyBWLia0wFSHCWzZY8MwHizgZ26ihPzuT8M\",\r\n//   authDomain: \"cipla-embart.firebaseapp.com\",\r\n//   databaseURL: \"https://cipla-embart.firebaseio.com\",\r\n//   projectId: \"cipla-embart\",\r\n//   storageBucket: \"cipla-embart.appspot.com\",\r\n//   messagingSenderId: \"98727109263\",\r\n//   appId: \"1:98727109263:web:570856080f82e5c71e46fa\",\r\n//   measurementId: \"G-VHBSQJV27C\"\r\n// };\r\n\r\nlet config = {\r\n  // apiKey: \"AIzaSyBwwK-YDdmEhhlszL7AIqUi1ww9z6qBPfg\",\r\n  // authDomain: \"vc-circle-cd367.firebaseapp.com\",\r\n  // databaseURL: \"https://vc-circle-cd367-default-rtdb.firebaseio.com\",\r\n  // projectId: \"vc-circle-cd367\",\r\n  // storageBucket: \"vc-circle-cd367.appspot.com\",\r\n  // messagingSenderId: \"515670184062\",\r\n  // appId: \"1:515670184062:web:7ebe5cc403b91d144ec82f\",\r\n  // measurementId: \"G-S9JV9Z6XXD\"\r\n  apiKey: \"AIzaSyDzGNeI8hwj5UZNVcUaD4yfMVK35yvj0X8\",\r\n  authDomain: \"ht-virutalevent.firebaseapp.com\",\r\n  projectId: \"ht-virutalevent\",\r\n  storageBucket: \"ht-virutalevent.appspot.com\",\r\n  databaseURL: \"https://ht-virutalevent-default-rtdb.firebaseio.com/\",\r\n  messagingSenderId: \"306628308360\",\r\n  appId: \"1:306628308360:web:6a285b18ec9e784c715e3d\",\r\n  measurementId: \"G-59S3S9W3E2\",\r\n};\r\n\r\napp.initializeApp(config);\r\nconst authx = app.auth();\r\nconst dbx = app.firestore();\r\nconst storage = app.storage();\r\nconst rdbx = app.database();\r\nconst rdatabasex = app.database;\r\nconst fieldValue = app.firestore.FieldValue;\r\n\r\nclass Firebase {\r\n  constructor() {\r\n    this.app = app;\r\n    this.auth = app.auth();\r\n    this.db = app.firestore();\r\n    this.firestore = app.firestore();\r\n    this.database = app.database();\r\n  }\r\n}\r\n\r\nexport default Firebase;\r\nexport { dbx, authx, storage, rdbx, rdatabasex, fieldValue };\r\n",
    "import React, { Component } from \"react\";\r\nimport \"./PublicChat.css\";\r\nimport Chat from \"twilio-chat\";\r\nimport PropTypes from \"prop-types\";\r\nimport { authx, dbx, fieldValue, rdbx } from \"../../firebase\";\r\nimport { instanceOf } from \"prop-types\";\r\nimport { ChatType } from \"../../App\";\r\nimport swal from \"sweetalert\";\r\nimport Spinner from \"../../spinner.gif\";\r\nimport { RiMailSendLine } from \"react-icons/ri\";\r\nconst dontLoadUserImage = true;\r\nconst showEmailID = true;\r\nconst showCompanyName = true;\r\nconst email_server_endpoint =\r\n  \"https://vc-chat-mailserver-dot-vc-circle-cd367.el.r.appspot.com/sendChatMail/\";\r\nvar UserInfromationTable = [];\r\nclass PublicChat extends Component {\r\n  state = {\r\n    emailFeature: true,\r\n    error: null,\r\n    loadin: false,\r\n    isLoading: true,\r\n    messages: {},\r\n    channels: {},\r\n    replied: {},\r\n    lastMessageTime: {},\r\n    activeMessages: [],\r\n    publicChannelMembers: [],\r\n    publicChannel: null,\r\n    activeChannel: null,\r\n    activeTab: this.props.type !== ChatType.privateChat ? \"tab1\" : \"tab2\",\r\n    activeMember: null,\r\n    searchText: \"\",\r\n    chatuser: null,\r\n    notifyEmail: \"\",\r\n    type: this.props.type,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.user = {\r\n      channelId: props.channel.id,\r\n      channelName: props.channel.name,\r\n      id: props.user.id,\r\n      name: props.user.name,\r\n      uimage: props.user.uimage,\r\n    };\r\n\r\n    if (props.user.uimage == null || props.user.uimage) {\r\n      this.uimage = \"assets/images/Profile-picture.png\";\r\n      this.setState({ uimage: \"assets/images/Profile-picture.png\" });\r\n    }\r\n\r\n    this.message = React.createRef();\r\n    this.messageDiv = React.createRef();\r\n  }\r\n\r\n  componentWillMount() {\r\n    let stall_Id = this.state.stallID;\r\n    let self = this;\r\n    window.c = this;\r\n    rdbx.ref(\"/users\").on(\"value\", (snap) => {\r\n      if (snap.exists()) {\r\n        const data = snap.val();\r\n        console.log(data);\r\n        Object.keys(data).forEach((key) => {\r\n          UserInfromationTable.push(data[key]);\r\n        });\r\n      } else {\r\n        console.error(\"No User data found\");\r\n      }\r\n    });\r\n\r\n    // dbx.collection(\"users\").get().then(function (querySnapshot) {\r\n    //   querySnapshot.forEach(function (doc) {\r\n    //     // doc.data() is never undefined for query doc snapshots\r\n    //     //  console.log(doc.id, \" => \", doc.data());\r\n    //     UserInfromationTable.push(doc.data());\r\n    //   });\r\n    // });\r\n  }\r\n\r\n  getUserData = (user, need) => {\r\n    if (!showEmailID) {\r\n      return \"\";\r\n    }\r\n    if (!user) {\r\n      return \"\";\r\n    }\r\n    for (let i = 0; i < UserInfromationTable.length; i++) {\r\n      if (user.id === UserInfromationTable[i].email) {\r\n        return UserInfromationTable[i][need]\r\n          ? UserInfromationTable[i][need]\r\n          : \"\";\r\n      }\r\n    }\r\n    return \"New User\";\r\n  };\r\n\r\n  getUserDataFromChat = (user, need) => {\r\n    if (!showCompanyName) {\r\n      return \"\";\r\n    }\r\n    if (!user) {\r\n      return \"\";\r\n    }\r\n\r\n    for (let i = 0; i < UserInfromationTable.length; i++) {\r\n      if (user.id === UserInfromationTable[i].email) {\r\n        return UserInfromationTable[i][need]\r\n          ? UserInfromationTable[i][need]\r\n          : \"\";\r\n      }\r\n    }\r\n    return \"Company name\";\r\n  };\r\n\r\n  getUserAvatarImage = (user, need) => {\r\n    if (dontLoadUserImage) {\r\n      return \"assets/images/Profile-picture.png\";\r\n    }\r\n\r\n    if (!user) {\r\n      return \"assets/images/Profile-picture.png\";\r\n    }\r\n    //NOTE: I taking image from user table\r\n    for (let i = 0; i < UserInfromationTable.length; i++) {\r\n      if (user.id === UserInfromationTable[i].email) {\r\n        return UserInfromationTable[i][need]\r\n          ? UserInfromationTable[i][need]\r\n          : \"\";\r\n      }\r\n    }\r\n    return \"assets/images/Profile-picture.png\";\r\n  };\r\n\r\n  getUserAvatarImageForPrivChat = (user) => {\r\n    if (dontLoadUserImage) {\r\n      return \"assets/images/Profile-picture.png\";\r\n    }\r\n\r\n    if (!user) {\r\n      return \"assets/images/Profile-picture.png\";\r\n    }\r\n\r\n    //NOTE: I taking image from user table\r\n    for (let i = 0; i < UserInfromationTable.length; i++) {\r\n      if (user === UserInfromationTable[i].email) {\r\n        return UserInfromationTable[i][\"profile_picture\"];\r\n      }\r\n    }\r\n    return \"assets/images/Profile-picture.png\";\r\n  };\r\n\r\n  componentDidMount() {\r\n    authx.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        // User is signed in.\r\n        //.log(user.uid);\r\n        this.setState({\r\n          chatuser: {\r\n            email: user.email,\r\n            name: user.displayName,\r\n            photoURL: user.photoURL,\r\n          },\r\n        });\r\n        console.log(\"Chat User \" + user.email);\r\n      } else {\r\n        // No user is signed in.\r\n        this.setState({\r\n          chatuser: { email: \"shubham@dj.com\", name: \"Shubham\" },\r\n        });\r\n        console.log(\"Chat User not Loaded shubham@dj.com\");\r\n      }\r\n    });\r\n\r\n    fetch(\r\n      // \"https://twilio-chat-api-dot-virtualeventdemo.el.r.appspot.com/chat/token\",\r\n      \"https://chat.photoboothassetmanagement.co.in/chat/token\",\r\n      {\r\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n        method: \"POST\",\r\n        body: `identity=${encodeURIComponent(\r\n          this.user.id + \",\" + this.user.name\r\n        )}`,\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => Chat.create(data.token))\r\n      .then(this.setupChatClient)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  handleError = (error) => {\r\n    console.error(error);\r\n    this.setState({\r\n      error: \"Could not load chat.\",\r\n    });\r\n  };\r\n\r\n  setupChatClient = (client) => {\r\n    this.client = client;\r\n    this.client\r\n      .getChannelByUniqueName(this.user.channelId)\r\n      .then((channel) => channel)\r\n      .catch((error) => {\r\n        if (error.body.code === 50300) {\r\n          return this.client.createChannel({\r\n            uniqueName: this.user.channelId,\r\n            friendlyName: this.user.channelName,\r\n            isPrivate: false,\r\n          });\r\n        } else {\r\n          this.handleError(error);\r\n        }\r\n      })\r\n      .then((channel) => {\r\n        this.setState({ publicChannel: channel });\r\n        return this.state.publicChannel.join().catch(() => {});\r\n      })\r\n      .then(() => {\r\n        var self = this;\r\n        this.setState({ isLoading: false });\r\n        this.state.publicChannel.getMessages().then((messagePage) => {\r\n          if (this.props.type !== ChatType.privateChat)\r\n            this.messagesLoaded(this.state.publicChannel, messagePage, true);\r\n        });\r\n        this.state.publicChannel.on(\"messageAdded\", (message) =>\r\n          this.messageAdded(this.state.publicChannel, message)\r\n        );\r\n        setInterval(() => {\r\n          this.state.publicChannel.getMembers().then(this.membersLoaded);\r\n        }, 1000);\r\n\r\n        // setTimeout(()=>{\r\n        //     self.setCurrentTab(\"tab2\");\r\n        // }, 1500)\r\n      })\r\n      .catch(this.handleError);\r\n\r\n    this.client.on(\"channelInvited\", (channel) => {\r\n      channel.join();\r\n      this.subscribeChannel(channel);\r\n    });\r\n\r\n    this.client.getSubscribedChannels().then((paginator) => {\r\n      paginator.items.forEach((channel) => {\r\n        this.subscribeChannel(channel);\r\n      });\r\n    });\r\n  };\r\n\r\n  subscribeChannel(channel) {\r\n    let channels = this.state.channels;\r\n    channels[channel.uniqueName] = channel;\r\n    this.setState({ channels: channels });\r\n    this.subscribeChannelMessages(channel);\r\n  }\r\n\r\n  subscribeChannelMessages = (channel) => {\r\n    channel\r\n      .getMessages()\r\n      .then((messagePage) => this.messagesLoaded(channel, messagePage, false));\r\n    channel.on(\"messageAdded\", (message) =>\r\n      this.messageAdded(channel, message)\r\n    );\r\n  };\r\n\r\n  twilioMessageToMessage = (message) => {\r\n    return {\r\n      id: message.sid,\r\n      text: message.body,\r\n      user: message.attributes.user || {},\r\n      timestamp: message.dateCreated,\r\n    };\r\n  };\r\n\r\n  setCurrentTab = (tab) => {\r\n    this.setState({ activeTab: tab });\r\n    if (tab == \"tab1\") {\r\n      this.onPublicChanelClick();\r\n    } else if (tab == \"tab2\") {\r\n      this.setState({ activeChannel: null });\r\n    }\r\n  };\r\n\r\n  membersLoaded = (members) => {\r\n    let publicChannelMembers = members\r\n      .map((member) => this.toMember(member.identity))\r\n      .filter((member) => member.id != this.user.id);\r\n    this.setState({ publicChannelMembers: publicChannelMembers });\r\n  };\r\n\r\n  toMember = (identity) => {\r\n    let vars = identity.split(\",\");\r\n    return { id: vars[0], name: vars[1], identity: identity };\r\n  };\r\n\r\n  messagesLoaded = (channel, messagePage, activateChannel) => {\r\n    let messages = this.state.messages;\r\n    messages[channel.sid] = messagePage.items.map(this.twilioMessageToMessage);\r\n    this.setState({ messages: messages });\r\n\r\n    if (messagePage.items.length > 0) {\r\n      let message = messages[channel.sid][messagePage.items.length - 1];\r\n      if (message.user.name == this.user.name) {\r\n        this.handleOnline(channel, message, true);\r\n      } else {\r\n        this.handleOnline(channel, message, false);\r\n      }\r\n    }\r\n\r\n    if (activateChannel) {\r\n      this.activateChannel(channel);\r\n    }\r\n  };\r\n\r\n  SaveForNotify = (toemail) => {\r\n    dbx\r\n      .collection(\"ChatNotification\")\r\n      .doc(toemail)\r\n      .get()\r\n      .then(function (doc) {\r\n        if (doc.exists) {\r\n          dbx.collection(\"ChatNotification\").doc(toemail).update({\r\n            notify_to: toemail,\r\n            date: Date.now(),\r\n          });\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          dbx.collection(\"ChatNotification\").doc(toemail).set({\r\n            notify_to: toemail,\r\n            date: Date.now(),\r\n          });\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  };\r\n\r\n  PublicMessageAddedInFirebase = (msg, msgby) => {\r\n    dbx\r\n      .collection(\"PublicChatData\")\r\n      .doc()\r\n      .set({\r\n        date: fieldValue.serverTimestamp(),\r\n        message: msg,\r\n        sentby: msgby,\r\n      })\r\n      .then(function () {\r\n        console.log(\"Success updating document:\");\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error updating document:\", error);\r\n      });\r\n  };\r\n\r\n  PrivateMessageAddedInFirebase = (msg, channel, receiver, sender) => {\r\n    dbx\r\n      .collection(\"PrivateChatData\")\r\n      .doc()\r\n      .set({\r\n        date: fieldValue.serverTimestamp(),\r\n        message: msg,\r\n        msgbetween: channel,\r\n        reciever: receiver,\r\n        sender: sender,\r\n      })\r\n      .then(function () {\r\n        console.log(\"Success updating document:\");\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error updating document:\", error);\r\n      });\r\n  };\r\n\r\n  messageAdded = (channel, message) => {\r\n    if (this.previousMessage == null) {\r\n      this.previousMessage = message;\r\n    } else if (this.previousMessage.sid == message.sid) {\r\n      return;\r\n    }\r\n    this.previousMessage = message;\r\n\r\n    let messages = this.state.messages;\r\n    message = this.twilioMessageToMessage(message);\r\n\r\n    if (messages[channel.sid]) {\r\n      messages[channel.sid].push(message);\r\n    } else {\r\n      messages[channel.sid] = [];\r\n      messages[channel.sid].push(message);\r\n    }\r\n    this.setState({ messages: messages });\r\n\r\n    if (message.user.name == this.user.name) {\r\n      this.handleOnline(channel, message, true);\r\n    } else {\r\n      this.handleOnline(channel, message, false);\r\n    }\r\n\r\n    if (\r\n      channel.sid == (this.state.activeChannel && this.state.activeChannel.sid)\r\n    ) {\r\n      this.scroll();\r\n    }\r\n\r\n    //this.GetNotification();\r\n\r\n    // if (this.state.activeTab == \"tab2\") {\r\n    //   console.log(\"Message Sent To: \" + this.state.activeMember.id);\r\n    //   console.log(\"Message Sent By: \" + this.state.chatuser.email);\r\n    //   console.log(\"Channel: \" + channel.uniqueName);\r\n    //   console.log(\"Message: \" + message.text);\r\n    // }\r\n\r\n    // if (this.state.activeTab == \"tab1\") {\r\n    //   console.log(\"Message Sent By: \" + this.state.chatuser.email);\r\n    //   console.log(\"Channel: \" + channel.friendlyName);\r\n    //   console.log(\"Message: \" + message.text);\r\n    // }\r\n  };\r\n\r\n  handleOnline = (channel, message, value) => {\r\n    let replied = this.state.replied;\r\n    let id = channel.uniqueName\r\n      .split(\",\")\r\n      .filter((value1) => value1 != this.user.id)[0];\r\n    if (value == true) {\r\n      delete replied[id];\r\n      console.log(\"delete\");\r\n    } else {\r\n      replied[id] = value;\r\n      console.log(replied);\r\n    }\r\n\r\n    //console.log(\"id \"+ id + \" replied \"+value);\r\n    this.setState({ replied: replied });\r\n\r\n    let lastMessageTime = this.state.lastMessageTime;\r\n    lastMessageTime[id] = message.timestamp;\r\n    this.setState({ lastMessageTime: lastMessageTime });\r\n  };\r\n\r\n  sendMessage = (event) => {\r\n    if (this.message.current.value) {\r\n      this.state.activeChannel.sendMessage(this.message.current.value, {\r\n        user: this.user,\r\n      });\r\n\r\n      if (this.state.activeTab == \"tab1\") {\r\n        this.PublicMessageAddedInFirebase(\r\n          this.message.current.value,\r\n          this.state.chatuser.email\r\n        );\r\n      }\r\n\r\n      if (this.state.activeTab == \"tab2\") {\r\n        this.PrivateMessageAddedInFirebase(\r\n          this.message.current.value,\r\n          this.state.activeChannel.uniqueName,\r\n          this.state.activeMember.id,\r\n          this.state.chatuser.email\r\n        );\r\n\r\n        this.SaveForNotify(this.state.activeMember.id);\r\n      }\r\n\r\n      this.message.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  // onMemberClick = (member) => {\r\n  //   let ids = [member.id, this.user.id];\r\n  //   ids.sort();\r\n  //   let channelId = ids.join();\r\n\r\n  //   if (this.state.channels[channelId] == null) {\r\n  //     this.setupChannel(this.client, channelId, member);\r\n  //   } else {\r\n  //     this.activateChannel(this.state.channels[channelId]);\r\n  //     this.setState({ activeMember: member });\r\n  //   }\r\n  // };\r\n  onMemberClick = (member) => {\r\n    let ids = [member.id, this.user.id];\r\n    // console.log(ids);\r\n    ids.sort();\r\n\r\n    let channelId = ids.join();\r\n    if (this.state.channels[channelId] == null) {\r\n      this.setupChannel(this.client, channelId, member);\r\n    } else {\r\n      this.activateChannel(this.state.channels[channelId]);\r\n\r\n      this.setState({ activeMember: member });\r\n    }\r\n\r\n    dbx\r\n      .collection(\"user-invite\")\r\n      .doc(this.user.id + \"+\" + member.id)\r\n      .get()\r\n      .then((doc) => {\r\n        if (doc.exists) {\r\n          this.setState({ sendable: false });\r\n        } else {\r\n          this.setState({ sendable: true });\r\n        }\r\n      });\r\n    this.setState(\r\n      () => {\r\n        return {\r\n          sender_data: {\r\n            name: this.user.name,\r\n            email: this.user.id,\r\n            company: this.getUserDataFromChat(this.user, \"company\"),\r\n            designation: this.getUserDataFromChat(this.user, \"designation\"),\r\n          },\r\n          reciever_data: {\r\n            name: member.name,\r\n            email: member.id,\r\n            company: this.getUserDataFromChat(member, \"company\"),\r\n            designation: this.getUserDataFromChat(member, \"company\"),\r\n          },\r\n        };\r\n      }\r\n      // () => {\r\n      //   console.log(this.state.sender_data, this.state.reciever_data);\r\n      // }\r\n    );\r\n  };\r\n  sendMail = () => {\r\n    swal({\r\n      title: \"Send Invite\",\r\n      text: \"\",\r\n      icon: \"info\",\r\n      buttons: true,\r\n      dangerMode: true,\r\n    }).then((ok) => {\r\n      if (ok) {\r\n        this.setState({ loading: true });\r\n        const innerThis = this;\r\n        fetch(email_server_endpoint, {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-AUTH-TOKEN\": \"12901cb8edbcd4fff903e48585403839\",\r\n          },\r\n          method: \"POST\",\r\n          body: JSON.stringify({\r\n            sender: {\r\n              ...this.state.sender_data,\r\n            },\r\n            reciver: {\r\n              ...this.state.reciever_data,\r\n            },\r\n          }),\r\n        })\r\n          .then(function (res) {\r\n            dbx\r\n              .collection(\"user-invite\")\r\n              .doc(\r\n                `${innerThis.state.sender_data.email}+${innerThis.state.reciever_data.email}`\r\n              )\r\n              .set({\r\n                sender: innerThis.state.sender_data.email,\r\n                receiver: innerThis.state.reciever_data.email,\r\n                sent: true,\r\n                timestamp: fieldValue.serverTimestamp(),\r\n              })\r\n              .then(() => {\r\n                innerThis.setState({ sendable: false, loading: false });\r\n                swal(\"Sent\", {\r\n                  icon: \"success\",\r\n                });\r\n              });\r\n          })\r\n          .catch(function (res) {\r\n            console.log(res);\r\n          });\r\n      } else {\r\n      }\r\n    });\r\n  };\r\n\r\n  setupChannel = (client, channelId, member) => {\r\n    this.client = client;\r\n    this.setState({ loading: true });\r\n    this.client\r\n      .getChannelByUniqueName(channelId)\r\n      .then((channel) => channel)\r\n      .catch((error) => {\r\n        if (error.body.code === 50300) {\r\n          return this.client.createChannel({\r\n            uniqueName: channelId,\r\n            isPrivate: true,\r\n          });\r\n        } else {\r\n          this.handleError(error);\r\n        }\r\n      })\r\n      .then((channel) => {\r\n        this.channel = channel;\r\n        return this.channel.join().catch(() => {});\r\n      })\r\n      .then(() => {\r\n        try {\r\n          this.channel\r\n            .invite(member.identity)\r\n            .catch((reason) => console.log(reason));\r\n        } catch (e) {}\r\n        this.subscribeChannel(this.channel);\r\n        this.setState({ activeMember: member });\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch(this.handleError);\r\n  };\r\n\r\n  activateChannel = (channel) => {\r\n    this.setState({ activeChannel: channel });\r\n    this.setState({ activeMessages: this.state.messages[channel.sid] });\r\n    this.scroll();\r\n  };\r\n\r\n  onPublicChanelClick = () => {\r\n    this.activateChannel(this.state.publicChannel);\r\n    setTimeout(this.scroll, 100);\r\n  };\r\n\r\n  scroll = () => {\r\n    //console.log(\"scroll\");\r\n    const scrollHeight = this.messageDiv.current.scrollHeight;\r\n    const height = this.messageDiv.current.clientHeight;\r\n    const maxScrollTop = scrollHeight - height;\r\n    this.messageDiv.current.scrollTop = maxScrollTop > 0 ? maxScrollTop : 0;\r\n  };\r\n\r\n  onSearchTextChange = (value) => {\r\n    this.setState({ searchText: value });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.client.shutdown();\r\n  }\r\n\r\n  showUserImage = () => {\r\n    if (!dontLoadUserImage) {\r\n      return this.user.uimage;\r\n    }\r\n    return \"assets/images/Profile-picture.png\";\r\n  };\r\n\r\n  RetunKey = (str) => {\r\n    let r = Math.floor(Math.random() * 100000);\r\n    let rk = str + \"\" + r;\r\n    return rk;\r\n  };\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return <div className=\"fullScr\">{this.state.error}</div>;\r\n    } else if (this.state.isLoading) {\r\n      return <div className=\"fullScr\">Loading Chat...</div>;\r\n    }\r\n\r\n    let searchText = this.state.searchText;\r\n    let publicChannelMembers = this.state.publicChannelMembers\r\n      .filter((member) => {\r\n        return searchText == \"\"\r\n          ? true\r\n          : (member.name || \"\")\r\n              .toLocaleLowerCase()\r\n              .includes(searchText.toLocaleLowerCase());\r\n      })\r\n      .sort((x, y) => {\r\n        let xTimestamp = this.state.lastMessageTime[x.id]\r\n          ? this.state.lastMessageTime[x.id]\r\n          : new Date(new Date().setFullYear(new Date().getFullYear() - 1));\r\n        let yTimestamp = this.state.lastMessageTime[y.id]\r\n          ? this.state.lastMessageTime[y.id]\r\n          : new Date(new Date().setFullYear(new Date().getFullYear() - 1));\r\n        return yTimestamp - xTimestamp;\r\n      });\r\n\r\n    let final = [];\r\n    for (let xi = 0; xi < publicChannelMembers.length; xi++) {\r\n      //console.log(publicChannelMembers[xi].name);\r\n      let name = publicChannelMembers[xi].name;\r\n      if (name != \"null\" && name != null) {\r\n        final.push(publicChannelMembers[xi]);\r\n      }\r\n    }\r\n    // console.log(publicChannelMembers);\r\n    //console.log(final);\r\n    publicChannelMembers = final;\r\n    return (\r\n      <>\r\n        {this.state.loading ? (\r\n          <div className=\"loading\">\r\n            <img src={Spinner} alt=\"\" className=\"loader\" />\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div className=\"wrapper h-100\">\r\n          <header className=\"header\">\r\n            <a href=\"#\" className=\"header__logo\">\r\n              <img src=\"assets/images/logo.png\" alt=\"\" />\r\n            </a>\r\n            {/* <a href=\"#\" className=\"header__close\">\r\n                        <i className=\"icon-close\"></i>\r\n                    </a> */}\r\n          </header>\r\n          <div className=\"contentCntr\">\r\n            <aside className=\"sidebar show-on-desktop\">\r\n              <div className=\"sidebar__header\">\r\n                <div className=\"sidebar__user\">\r\n                  <div className=\"user-block\">\r\n                    <div className=\"user-block__pic\">\r\n                      <img src={this.showUserImage()} alt=\"\" />\r\n                      {/* <span className=\"user-block__online\"></span> */}\r\n                    </div>\r\n                    <span className=\"user-block__name\">{this.user.name}</span>\r\n                  </div>\r\n                </div>\r\n                <a\r\n                  className=\"sidebar__link\"\r\n                  onClick={(event) => this.onPublicChanelClick()}\r\n                >\r\n                  {this.user.channelName}\r\n                </a>\r\n                <a className=\"sidebar__link\">\r\n                  Chat ({publicChannelMembers.length})\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"sidebar__body\">\r\n                <div className=\"search-block\">\r\n                  <div className=\"search-block__form\">\r\n                    <input\r\n                      className=\"search-block__input\"\r\n                      type=\"text\"\r\n                      placeholder=\"Search\"\r\n                      ref={this.search}\r\n                      onChange={(event) =>\r\n                        this.onSearchTextChange(event.target.value)\r\n                      }\r\n                    />\r\n                    <button className=\"search-block__btn\">\r\n                      <i className=\"icon-search\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"user-block-list\">\r\n                  <div>\r\n                    {publicChannelMembers.map((member) => (\r\n                      <div\r\n                        className=\"user-block\"\r\n                        key={member.identity}\r\n                        onClick={(event) => this.onMemberClick(member)}\r\n                      >\r\n                        <div className=\"user-block__pic\">\r\n                          <img src={this.user.uimage} alt=\"\" />\r\n                          <span\r\n                            className={\r\n                              this.state.replied[member.id] == true\r\n                                ? \"\"\r\n                                : \"user-block__dnd\"\r\n                            }\r\n                          ></span>\r\n                        </div>\r\n                        <span className=\"user-block__name\">\r\n                          {member.name === \"null\" ? member.id : member.name}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </aside>\r\n\r\n            <section className=\"chat-container\">\r\n              <div className=\"chat-section\">\r\n                {this.props.type === ChatType.Both && (\r\n                  <>\r\n                    <div className=\"chat-section__header chat-section__tabs hide-on-desktop\">\r\n                      <ul>\r\n                        <li onClick={(event) => this.setCurrentTab(\"tab1\")}>\r\n                          <a\r\n                            className={\r\n                              (this.state.activeChannel &&\r\n                                this.state.activeChannel.uniqueName) ==\r\n                              this.user.channelId\r\n                                ? \"active\"\r\n                                : \"\"\r\n                            }\r\n                          >\r\n                            {this.user.channelName}\r\n                          </a>\r\n                        </li>\r\n                        <li onClick={(event) => this.setCurrentTab(\"tab2\")}>\r\n                          <a\r\n                            className={\r\n                              this.state.activeTab == \"tab2\" ? \"active\" : \"\"\r\n                            }\r\n                          >\r\n                            ALL PARTICIPIENTS ({publicChannelMembers.length})\r\n                          </a>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n                <div\r\n                  className=\"chat-section__header\"\r\n                  style={{ display: this.state.activeChannel ? \"\" : \"none\" }}\r\n                >\r\n                  <div className=\"user-block\">\r\n                    {this.state.activeTab !== \"tab1\" && (\r\n                      <div\r\n                        onClick={() => this.setState({ activeChannel: null })}\r\n                        style={{ marginRight: \"0.5rem\" }}\r\n                      >\r\n                        <img\r\n                          style={{ width: \"1.5rem\" }}\r\n                          src={\"./assets/images/back.png\"}\r\n                          alt={\"<\"}\r\n                        ></img>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"user-block__pic\">\r\n                      <img\r\n                        src={\r\n                          this.state.activeChannel &&\r\n                          this.state.activeChannel.friendlyName\r\n                            ? \"assets/images/groupChatIcon.png\"\r\n                            : this.getUserAvatarImage(\r\n                                this.state.activeMember,\r\n                                \"profile_picture\"\r\n                              )\r\n                        }\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <span className=\"user-block__name\">\r\n                      {(this.state.activeChannel &&\r\n                        this.state.activeChannel.friendlyName) ||\r\n                        (this.state.activeMember &&\r\n                          this.state.activeMember.name)}\r\n                    </span>\r\n                    {this.state.emailFeature ? (\r\n                      <RiMailSendLine\r\n                        className={`mail ${\r\n                          this.state.activeMember ? \"\" : \"d-none\"\r\n                        } ${this.state.activeTab === \"tab1\" ? \"d-none\" : \"\"} ${\r\n                          this.state.sendable ? \"\" : \"faded\"\r\n                        }`}\r\n                        size=\"2rem\"\r\n                        onClick={this.sendMail}\r\n                      />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"chat-section__body chat-section__body--list\">\r\n                  <div\r\n                    className=\"chat-section\"\r\n                    style={{ display: this.state.activeChannel ? \"\" : \"none\" }}\r\n                  >\r\n                    <div className=\"chat-section__body\" ref={this.messageDiv}>\r\n                      {this.state.activeMessages &&\r\n                        this.state.activeMessages.map((message) => (\r\n                          <div\r\n                            className={`chat-section__message chat-section__message--${\r\n                              this.user.id == message.user.id\r\n                                ? \"sent\"\r\n                                : \"received\"\r\n                            }`}\r\n                            key={this.RetunKey(message.identity)}\r\n                          >\r\n                            {this.user.id == message.user.id && (\r\n                              <>\r\n                                {\" \"}\r\n                                <span className=\"chat-section__text\">\r\n                                  {message.text}\r\n                                </span>\r\n                                <span className=\"chat-section__profile\">\r\n                                  <span className=\"chat-section__profile__pic\">\r\n                                    <img\r\n                                      src={\r\n                                        this.user.uimage == null\r\n                                          ? \"assets/images/Profile-picture.png\"\r\n                                          : this.user.uimage\r\n                                      }\r\n                                      alt=\"\"\r\n                                    />\r\n                                  </span>\r\n                                  {/* {message.user.name} */}\r\n                                  {showCompanyName\r\n                                    ? message.user.name +\r\n                                      \", \" +\r\n                                      this.getUserDataFromChat(\r\n                                        message.user,\r\n                                        \"designation\"\r\n                                      ) +\r\n                                      \", \" +\r\n                                      this.getUserDataFromChat(\r\n                                        message.user,\r\n                                        \"company\"\r\n                                      )\r\n                                    : message.user.name}\r\n                                </span>\r\n                              </>\r\n                            )}\r\n                            {this.user.id != message.user.id && (\r\n                              <>\r\n                                <span className=\"chat-section__profile\">\r\n                                  <span className=\"chat-section__profile__pic\">\r\n                                    <img\r\n                                      src={this.getUserAvatarImage(\r\n                                        message.user,\r\n                                        \"profile_picture\"\r\n                                      )}\r\n                                      alt=\"\"\r\n                                    />\r\n                                    {showCompanyName\r\n                                      ? message.user.name +\r\n                                        \", \" +\r\n                                        this.getUserDataFromChat(\r\n                                          message.user,\r\n                                          \"designation\"\r\n                                        ) +\r\n                                        \", \" +\r\n                                        this.getUserDataFromChat(\r\n                                          message.user,\r\n                                          \"company\"\r\n                                        )\r\n                                      : message.user.name}\r\n                                  </span>\r\n                                </span>\r\n                                <span className=\"chat-section__text\">\r\n                                  {message.text}\r\n                                </span>\r\n                              </>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                    </div>\r\n                    {this.state.activeChannel && (\r\n                      <div className=\"chat-section__footer\">\r\n                        <div className=\"chat-section__form\">\r\n                          <input\r\n                            ref={this.message}\r\n                            type=\"text\"\r\n                            className=\"chat-section__input\"\r\n                            placeholder=\"Type a Message\"\r\n                            onKeyPress={(event) =>\r\n                              event.key === \"Enter\" && this.sendMessage(event)\r\n                            }\r\n                          ></input>\r\n                          <button\r\n                            onClick={(event) => this.sendMessage(event)}\r\n                            className=\"chat-section__btn\"\r\n                          >\r\n                            <i className=\"icon-send\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div\r\n                    className=\"sidebar__body\"\r\n                    style={{\r\n                      display:\r\n                        this.state.activeChannel == null &&\r\n                        this.state.activeTab != \"tab1\"\r\n                          ? \"\"\r\n                          : \"none\",\r\n                    }}\r\n                  >\r\n                    <div className=\"sidebar__body\">\r\n                      <div className=\"search-block\">\r\n                        <div className=\"search-block__form\">\r\n                          <input\r\n                            className=\"search-block__input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Search\"\r\n                            ref={this.search}\r\n                            onChange={(event) =>\r\n                              this.onSearchTextChange(event.target.value)\r\n                            }\r\n                          />\r\n                          <button className=\"search-block__btn\">\r\n                            <i className=\"icon-search\"></i>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"user-block-list\">\r\n                        <div>\r\n                          {publicChannelMembers.map((member) => (\r\n                            <div\r\n                              className=\"user-block\"\r\n                              key={member.identity}\r\n                              onClick={(event) => this.onMemberClick(member)}\r\n                            >\r\n                              <div className=\"user-block__pic\">\r\n                                <img\r\n                                  src={this.getUserAvatarImage(\r\n                                    member,\r\n                                    \"profile_picture\"\r\n                                  )}\r\n                                  alt=\"\"\r\n                                />\r\n                                {this.state.replied[member.id] != null && (\r\n                                  <span\r\n                                    className={\r\n                                      this.state.replied[member.id] == true\r\n                                        ? \"\"\r\n                                        : \"user-block__dnd\"\r\n                                    }\r\n                                  ></span>\r\n                                )}\r\n                              </div>\r\n                              <span className=\"user-block__name\">\r\n                                {member.name === \"null\"\r\n                                  ? member.id\r\n                                  : member.name}\r\n                              </span>\r\n                              <br></br>\r\n                              <br></br>\r\n                              {\r\n                                <div className=\"blocks font-sm-12\">\r\n                                  {showCompanyName\r\n                                    ? \", \" +\r\n                                      this.getUserDataFromChat(\r\n                                        member,\r\n                                        \"designation\"\r\n                                      ) +\r\n                                      \", \" +\r\n                                      this.getUserData(member, \"company\")\r\n                                    : \"\"}\r\n                                </div>\r\n                              }\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nPublicChat.propTypes = {\r\n  channel: PropTypes.object,\r\n  user: PropTypes.object,\r\n};\r\n\r\nexport default PublicChat;\r\n",
    "import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport PublicChat from \"./components/client-chat/PublicChat\";\r\nimport { authx, dbx } from \"./firebase\";\r\n\r\nconst chatRoomName = \"new-test-chat\";\r\nconst chatRoomDisplayName = \"Public Chat Room\";\r\n\r\nexport const ChatType = {\r\n  Both: 0,\r\n  publicChat: 1,\r\n  privateChat: 2,\r\n};\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: null,\r\n    type: ChatType.Both,\r\n  };\r\n\r\n  getURLPARAM = () => {\r\n    let urlParam = window.location.href.split(\"?\")[1];\r\n    if (urlParam) {\r\n      switch (urlParam) {\r\n        case \"public\":\r\n          this.setState({ type: ChatType.publicChat });\r\n          break;\r\n        case \"private\":\r\n          this.setState({ type: ChatType.privateChat });\r\n          break;\r\n        default:\r\n          this.setState({ type: ChatType.Both });\r\n      }\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    authx.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.getURLPARAM();\r\n        // User is signed in.\r\n        console.log(user.uid);\r\n        this.setState({\r\n          user: {\r\n            id: user.email,\r\n            name: user.displayName,\r\n            photoURL: user.photoURL,\r\n          },\r\n        });\r\n      } else {\r\n        this.getURLPARAM();\r\n        // No user is signed in.\r\n        this.setState({\r\n          user: {\r\n            id: \"aakash.swaroop@gmail.com\",\r\n            name: \"aakash.swaroop@gmail.com123456\",\r\n          },\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.user != null && (\r\n          <PublicChat\r\n            channel={{ id: chatRoomName, name: chatRoomDisplayName }}\r\n            user={{\r\n              id: this.state.user.id,\r\n              name: this.state.user.name,\r\n              uimage: this.state.user.photoURL,\r\n            }}\r\n            type={this.state.type}\r\n          >\r\n            {\" \"}\r\n          </PublicChat>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n",
    "// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n",
    "import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"rootchat\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"
  ],
  "sourceRoot": ""
}
